<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerryBall - Combinatorial Complexity Demonstration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸŽ± TerryBall with Analytics</h1>
            <p class="subtitle">A Deep Dive into Combinatorial Complexity</p>
            <p class="odds">Odds of Winning: 1 in 285,012</p>
        </header>

        <!-- Mode Toggle -->
        <div class="mode-toggle">
            <button class="mode-btn active" data-mode="classic">ðŸ“Š Classic Mode</button>
            <button class="mode-btn" data-mode="terrybucks">ðŸ’° TerryBucks Mode</button>
        </div>
        <div class="mode-description" id="modeDescription">
            <p>ðŸŽ¯ <strong>Classic Mode:</strong> Play the odds. Experience pure probability. Track your results.</p>
        </div>

        <div class="game-area">
            <!-- Main Numbers Selection -->
            <section class="number-selection">
                <h2>Pick 5 Numbers (1-30)</h2>
                <div class="numbers-grid" id="mainNumbers">
                    <!-- Generated by JavaScript -->
                </div>
                <div class="selected-numbers">
                    <strong>Your Numbers:</strong>
                    <div id="selectedMain" class="selected-display">Select 5 numbers</div>
                </div>
            </section>

            <!-- Power Number Selection -->
            <section class="power-selection">
                <h2>Pick Your Power Number</h2>
                <div class="power-buttons">
                    <button class="power-btn" data-power="1">1</button>
                    <button class="power-btn" data-power="2">2</button>
                </div>
                <div class="selected-power">
                    <strong>Your Power:</strong>
                    <div id="selectedPower" class="selected-display">Not selected</div>
                </div>
            </section>

            <!-- Action Buttons -->
            <section class="actions">
                <button id="quickPickBtn" class="btn btn-secondary">Quick Pick</button>
                <button id="clearBtn" class="btn btn-secondary">Clear Selection</button>
                <button id="playBtn" class="btn btn-primary">Draw & Play!</button>
            </section>

            <!-- Analytics Section -->
            <section class="analytics">
                <h2>ðŸ”¬ Analytics & Simulation</h2>
                <p class="analytics-description">Experience the mathematics firsthand by simulating thousands of games</p>
                
                <div class="simulation-controls">
                    <button id="simulate100" class="btn btn-analytics">Simulate 100 Games</button>
                    <button id="simulate1000" class="btn btn-analytics">Simulate 1,000 Games</button>
                    <button id="simulate10000" class="btn btn-analytics">Simulate 10,000 Games</button>
                </div>

                <div id="simulationResults" class="simulation-results" style="display: none;">
                    <h3>Simulation Results</h3>
                    Your Personal Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Games Played:</span>
                        <span class="stat-value" id="gamesPlayed">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Wins:</span>
                        <span class="stat-value" id="wins">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Win Rate:</span>
                        <span class="stat-value" id="winRate">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Expected Wins:</span>
                        <span class="stat-value" id="expectedWins">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Money Spent ($2/play):</span>
                        <span class="stat-value" id="moneySpent">$0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Deviation from Expected:</span>
                        <span class="stat-value" id="deviation">0</span>
                    </div>
                </div>
                <button id="resetStats" class="btn btn-secondary" style="margin-top: 15px;">Reset All Statistics</button>
            </section>

            <!-- Educational Section -->
            <section class="education">
                <h2>ðŸ“š Understanding the Numbers</h2>
                <div class="education-content">
                    <div class="edu-box">
                        <h4>Why 285,012?</h4>
                        <p>This isn't arbitrary. It's <strong>constructed</strong> from simple rules:</p>
                        <p class="formula">C(30,5) Ã— 2 = 142,506 Ã— 2 = 285,012</p>
                        <p>Like the Monster Group or protein folding, the complexity emerges inevitably from basic constraints.</p>
                    </div>
                    <div class="edu-box">
                        <h4>The Pet Rock Effect</h4>
                        <p>The colorful interface is theater. The math is the engine. No amount of "lucky numbers" changes C(30,5).</p>
                    </div>
                    <div class="edu-box">
                        <h4>The Illusion of Control</h4>
                        <p>Clicking buttons <em>feels</em> like control. But you're choosing 1 of 285,012 equally unlikely outcomes.</p>
                        <p><strong>Jesse Livermore's lesson:</strong> Skill â‰  Control over complexity.</p
                        <div class="sim-stat">
                            <span class="sim-label">Expected Wins:</span>
                            <span class="sim-value" id="simExpected">0</span>
                        </div>
                    </div>
                    <div class="probability-insight" id="probabilityInsight"></div>
                </div>

                <div class="cost-calculator">
                    <h3>ðŸ’° Reality Check: Cost Analysis</h3>
                    <div class="calculator-row">
                        <label>Cost per play: $</label>
                        <input type="number" id="costPerPlay" value="2" min="1" max="100">
                    </div>
                    <div class="calculator-results">
                        <p><strong>To play all 285,012 combinations:</strong></p>
                        <p class="cost-highlight" id="totalCost">$570,024</p>
                        <p class="cost-note">Even if you played every possible combination, you'd only guarantee breaking even with a jackpot of <span id="breakEven">$570,024</span> or more (ignoring time value of money).</p>
                    </div>
                </div>
            </section>

            <!-- Results -->
            <section class="results" id="results" style="display: none;">
                <h2>Winning Numbers</h2>
                <div class="winning-numbers">
                    <div class="winning-main" id="winningMain"></div>
                    <div class="winning-power" id="winningPower"></div>
                </div>
                <div class="result-message" id="resultMessage"></div>
                <button id="playAgainBtn" class="btn btn-primary">Play Again</button>
            </section>

            <!-- Statistics -->
            <section class="stats">
                <h3 id="statsTitle">ðŸ“Š Game Statistics</h3>
                
                <!-- TerryBucks specific display -->
                <div id="terryBucksPanel" class="terrybucks-panel" style="display: none;">
                    <div class="terrybucks-grid">
                        <div class="terrybucks-item debt">
                            <span class="terrybucks-label">ðŸ’³ Total Debt:</span>
                            <span class="terrybucks-value" id="terryBucksDebt">$0</span>
                        </div>
                        <div class="terrybucks-item net">
                            <span class="terrybucks-label">ðŸ’° Net Position:</span>
                            <span class="terrybucks-value" id="terryBucksNet">$0</span>
                        </div>
                    </div>
                    <div class="terrybucks-warning" id="terryBucksWarning"></div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Games Played:</span>
                        <span class="stat-value" id="gamesPlayed">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Wins:</span>
                        <span class="stat-value" id="wins">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Win Rate:</span>
                        <span class="stat-value" id="winRate">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Expected Wins:</span>
                        <span class="stat-value" id="expectedWins">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Money Spent ($2/play):</span>
                        <span class="stat-value" id="moneySpent">$0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Deviation from Expected:</span>
                        <span class="stat-value" id="deviation">0</span>
                    </div>
                </div>
                <button id="resetStats" class="btn btn-secondary" style="margin-top: 15px;">Reset Statistics for Current Mode</button>
            </section>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
